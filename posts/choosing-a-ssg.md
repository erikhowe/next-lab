---
title: "Choosing Next.js for Static Site Generation"
date: "2022-06-14"
---

Being able to choose the appropriate tool is an important skill for developers. Since no tool is perfect, a developer has to analyze the benefits and drawbacks of available options before deciding on a tool. When it was time for me to decide which static site generator to use for my personal website and developer blog, ease of use was the most important quality to me. I decided to complete the quickstarts for five SSG's before deciding which I preferred to use: Jekyll, Eleventy, Hugo, Gatsby and Next.

Jekyll seemed like a good choice because it was the original and revolutionary SSG and designed to work with Github, but after discovering that it doesn't play well with Ruby 3 and that the main contributor passed, I decided that it wasn't dependable and might result in more work down the line.

Hugo was my next option and not only was it incredibly fast, but easy to set up. A few commands on the command line and some configuration with the theme results in a seemingly polished static site with most if not all the features I wanted for a personal developer site. However, I didn't want to familiarize myself with embedded Go and I didn't want to be beholden to a template and its creator for stability or features that I might want in the future. For example, one of the most popular templates has been around since 2020, Toha, recently added breaking changes to the source and it's documentation for configuration is out of date. It was incredibly tempting to have a rich and fully developed template that I could personalize by simply writing a few configuration files, but I didn't want to sacrifice dependability and control.

Gatsby and Next which are both React frameworks that are slightly opinionated and have some excellent optimization and SEO features built in. The predominating opinion seems to be that Gatsby is great for static sites and plays nicely with headless CMS's like Netlify to create a straightforward workflow for adding blog posts, while Next is suited for SPA's that require scaling optimizations. Both frameworks are consistently updated and maintained, are easy to set up quickly, use React components (which I'm familiar with) and have very good build and response times (both perform better than Hugo on some benchmarks, but who really knows). If you're already familiar with React, I recommend that you go through the quickstart tutorials for both frameworks and see which one works for you, however if you're new to React and don't want to use it for this specific situation, then I'd suggest going with 11ty.

As I was going through the Gatsby tutorial that has you create a simple personal site, I found that I didn't like the GraphQL and MDX dependencies. Using GraphQL seemed like a strange choice for a static site that stored blog posts in the filesystem which goes back to the main idea of choosing the right tools for the job. On top of that, there were a lot of the packages that the tutorial had you download had dependency issues and a multitude of moderate and high vulnerabilities. For something so simple, there sure were a lot of moving parts. If there were so many bumps in the road with the quickstart tutorial, then how bad would it get once I fully commit and want to add something like an API or move my posts to a database?

It felt much better to me going through the Next quickstart tutorial. I had the site up and running with basically no warnings or issues and everything is contained within the filesystem. None of the packages that I installed threw any warnings, especially the ones that were released and maintained by Next. I mentioned earlier that the build times for Gatsby ended up being the fastest on two of the benchmarks that I found, but it turned out that the post-initial build times I experienced during the Gatsby quickstart was noticeably longer than the Next build times (~21 seconds and ~5 seconds respectively). In addition to the faster build time, Next had all of its optimization built into the main package instead of having to download additional packages for optimization like I did in the Gatsby tutorial.

Eleventy was very easy to get up and running and the build time was incredibly fast. I tried slowing down the build time by adding various plugins with no luck. It was still very fast. Eleventy development relies a community of contributors, but most of the core code is already written for Node, it has a short list of third party dependencies, and is designed to be decoupled from the content by relying on a template engine. Unlike Gatsby or Next, Eleventy isn't a framework and doesn't require the developer to use anything besides vanilla JS. Functionality can be added in the future using third party modules. For my use case, a simple professional website with a blog and portfolio, this seemed like the best available tool. I wanted to focus on Java and Kotlin development instead of learning React and I wanted something future proof so I didn't have to worry about deprecation.
